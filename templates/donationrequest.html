{% extends 'base.html' %} 
{% block title %} Hemosys | Donation Request {%endblock title %} 
{% block content %}

<section id="portfolio-details" class="portfolio-details">
  <div class="container">
    <div class="section-title">
      <br><br>
      <h3>Donation <span>Request</span></h3>
    </div>
  </div>
  
  <div class="container">
    <div class="row gy-4"> 
      {% for n in page_obj %}
      <div class="col-lg-4">
        <div class="portfolio-info">
          <h3>{{ n.recipientname }}</h3>
          <ul>
            <li><strong>Contact</strong>: {{ n.recipientphone }} </li>
            <li><strong>Email</strong>: {{ n.recipientemail }} </li>
            <li><strong>Location</strong>: {{ n.recipientlocation }} </li>
            <li><strong>Age</strong>: {{ n.recipientage }} </li>
            <li><strong>Gender</strong>: {{ n.recipientgender }} </li>
            <li><strong>Blood Group</strong>: {{ n.recipientblood }} </li>
            <li><strong>Donation</strong>: {{ n.recipientdonationtype }} - {{ n.recipientdonationquantity }} Bag</li>
            <li><strong>Patient's Condition</strong>: {{ n.recipientcondition }} </li>
            <li><strong>Date & Time</strong>: {{ n.recipientdate }} {{ n.recipienttime }} </li>
            <br><br>
          </ul>
        </div>
        
        <form method="post" action="/donor/confirm-donation/{{n.id}}/">
          {% csrf_token %}
          <button type="submit" class="btn btn-secondary mx-2" style="background-color: #e43c5c; width: 340px;"> Confirm </button>
        </form>      
      </div>
      {% endfor %}
    </div>
  </div>


  <!-- ===== Pagination ===== -->
  <br><br>
  <div class="container d-flex justify-content-center">
    <nav aria-label="...">
      <ul class="pagination">
        {% if page_obj.has_previous %}
          <li class="page-item">
            <a class="page-link" href="?page=1">First</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a>
          </li>
        {% else %}
          <li class="page-item disabled">
            <a class="page-link" href="?page=1">First</a>
          </li>
          <li class="page-item disabled">
            <a class="page-link" href="#">Previous</a>
          </li>
        {% endif %}
  
        {% for num in page_obj.paginator.page_range %}
          <li class="page-item {% if page_obj.number == num %}active{% endif %}" aria-current="page">
            <a class="page-link" href="?page={{ num }}">{{ num }}</a>
          </li>
        {% endfor %}
  
        {% if page_obj.has_next %}
          <li class="page-item">
            <a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a>
          </li>
          <li class="page-item">
            <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
          </li>
        {% else %}
          <li class="page-item disabled">
            <a class="page-link" href="#">Next</a>
          </li>
          <li class="page-item disabled">
            <a class="page-link" href="#">Last</a>
          </li>
        {% endif %}
      </ul>
    </nav>
  </div>
</section>

{% endblock content %}
